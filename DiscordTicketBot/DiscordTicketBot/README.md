# 🎫 White List - نظام التذاكر

بوت Discord احترافي لإدارة تذاكر الدعم الفني مع واجهة عربية كاملة.

## ⚡ المميزات

### 📋 أنواع التذاكر
- **❓ استفسار** - للأسئلة والاستفسارات العامة
- **🛒 متجر** - لمشاكل وملاحظات المتجر مع إمكانية إدخال رقم الطلب
- **🔧 دعم فني** - للمشاكل التقنية

### 🔒 الأمان والخصوصية
- التذاكر تفتح في الرسائل الخاصة مع العضو
- قنوات خاصة في السيرفر للإداريين فقط
- حماية هوية الإداريين (الردود تظهر كـ "Staff: الرسالة")
- نظام صلاحيات متقدم للرتب

### 🎮 الأوامر

| الأمر | الوصف | الصلاحية |
|------|------|---------|
| `/TTRR` | عرض نظام التذاكر للجميع | Administrator |
| `/UUUII` | إضافة/إزالة الرتب المسموح لها برؤية التذاكر | Administrator |
| `/TEK` | إدارة خيارات التذكرة (إغلاق، إضافة أعضاء) | Admin/Allowed Roles |
| `/kk` | تحديد قناة سجل التذاكر المغلقة | Administrator |

## 🚀 كيفية الإعداد

### 1️⃣ إنشاء البوت في Discord

1. اذهب إلى [Discord Developer Portal](https://discord.com/developers/applications)
2. اضغط "New Application" وسمّها
3. انتقل إلى تبويب "Bot"
4. اضغط "Add Bot"
5. فعّل الخيارات التالية في **Privileged Gateway Intents**:
   - ✅ PRESENCE INTENT
   - ✅ SERVER MEMBERS INTENT
   - ✅ MESSAGE CONTENT INTENT
6. انسخ التوكن (Token)

### 2️⃣ الحصول على معرف التطبيق

1. في نفس صفحة التطبيق، انتقل إلى تبويب "General Information"
2. انسخ **APPLICATION ID**

### 3️⃣ دعوة البوت للسيرفر

استخدم هذا الرابط (استبدل `YOUR_CLIENT_ID` بمعرف التطبيق):
```
https://discord.com/api/oauth2/authorize?client_id=YOUR_CLIENT_ID&permissions=8&scope=bot%20applications.commands
```

### 4️⃣ إعداد المتغيرات في Replit

1. اضغط على أيقونة القفل 🔒 في القائمة اليسرى (Secrets)
2. أضف المتغيرات التالية:
   - `DISCORD_BOT_TOKEN` = التوكن الذي نسخته
   - `DISCORD_CLIENT_ID` = معرف التطبيق

### 5️⃣ تسجيل الأوامر

في Terminal، شغّل:
```bash
npm run register
```

### 6️⃣ تشغيل البوت

اضغط زر "Run" أو شغّل:
```bash
npm start
```

## 📖 كيفية الاستخدام

### للإداريين

1. **إعداد النظام الأولي:**
   ```
   /TTRR - لعرض قائمة التذاكر في القناة المطلوبة
   /UUUII action:إضافة role_id:123456 - لإضافة رتبة مسموح لها
   /kk channel:#logs - لتحديد قناة السجلات
   ```

2. **إدارة التذاكر:**
   - في قناة التذكرة، اكتب `/TEK` لفتح قائمة الخيارات
   - اختر "إغلاق بسبب" لإغلاق التذكرة مع ذكر السبب
   - اختر "إضافة شخص للتذكرة" لإضافة عضو آخر

3. **الرد على التذاكر:**
   - اكتب رسالتك مباشرة في قناة التذكرة
   - سيتم إرسالها تلقائياً للعضو بصيغة "Staff: رسالتك"

### للأعضاء

1. انقر على القائمة المنسدلة في رسالة البوت
2. اختر نوع التذكرة (استفسار/متجر/دعم فني)
3. املأ النموذج الذي سيظهر
4. انتظر الرد في رسائلك الخاصة
5. ردّ مباشرة في الرسائل الخاصة مع البوت

## 🎨 التصميم

- ألوان بيضاء أنيقة
- واجهة عربية كاملة
- أيقونات واضحة لكل نوع تذكرة
- رسائل منظمة باستخدام Embeds

## 🛠️ التقنيات

- **Node.js** - بيئة التشغيل
- **Discord.js v14** - مكتبة Discord
- **In-Memory Storage** - تخزين مؤقت للتذاكر

## 📝 ملاحظات مهمة

- التذاكر تُحفظ في الذاكرة، إذا أعدت تشغيل البوت ستفقد البيانات
- تأكد من تفعيل الـ Intents المطلوبة في Developer Portal
- البوت يحتاج صلاحية إنشاء القنوات وإدارة الصلاحيات

## 🔧 استكشاف الأخطاء

**البوت لا يرد على الأوامر:**
- تأكد من تسجيل الأوامر باستخدام `npm run register`
- انتظر 5-10 دقائق لتحديث Discord

**لا يمكن إرسال رسائل خاصة:**
- تأكد أن إعدادات الخصوصية للعضو تسمح بالرسائل من أعضاء السيرفر

**البوت لا يعمل:**
- تأكد من صحة التوكن ومعرف التطبيق
- تأكد من تفعيل جميع الـ Intents

---

**تم التطوير بواسطة White List Team 🎫**
